<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="assets/style.css?t=615badd5">
    <link rel="stylesheet" href="https://ricostacruz.com/docpress-rsc/style.css">
    <script src="assets/script.js?t=42463e55"></script>
    <title>Documentation - Jails</title>
    <meta name="viewport" content="width=device-width">
  </head>
  <body class="-menu-visible">
    <div class="doc-layout">
      <div class="toggle menu-toggle js-menu-toggle"></div>
      <div class="menu toc-menu">
        <li class="menu-item -level-0 -parent">
          <ul class="submenu">
            <li class="menu-item -level-1"><a class="link title  link-index" href="index.html">Jails</a>
            </li>
            <li class="menu-item -level-1 -parent"><span class="title">Getting Started</span>
              <ul class="submenu">
                <li class="menu-item -level-2"><a class="link title  link-instalation" href="instalation.html">Quick Install</a>
                </li>
              </ul>
            </li>
            <li class="menu-item -level-1 -parent"><span class="title">Components</span>
              <ul class="submenu">
                <li class="menu-item -level-2"><a class="link title  link-components" href="components.html">Introduction</a>
                </li>
                <li class="menu-item -level-2"><a class="link title  link-helpers" href="helpers.html">Helpers</a>
                </li>
              </ul>
            </li>
            <li class="menu-item -level-1 -parent"><span class="title">Jails API</span>
              <ul class="submenu">
                <li class="menu-item -level-2"><a class="link title -active link-jails-api" href="jails-api.html">Documentation</a>
                  <ul class="headings heading-list">
                    <li class="heading-item -depth-2"><a class="hlink link-.start" href="#.start">.start</a>
                    </li>
                    <li class="heading-item -depth-2"><a class="hlink link-.events" href="#.events">.events</a>
                    </li>
                    <li class="heading-item -depth-2"><a class="hlink link-.publish-.subscribe" href="#.publish-.subscribe">.publish / .subscribe</a>
                    </li>
                    <li class="heading-item -depth-2"><a class="hlink link-.destroy" href="#.destroy">.destroy</a>
                    </li>
                    <li class="heading-item -depth-2"><a class="hlink link-.use-.extend" href="#.use-.extend">.use / .extend</a>
                      <ul class="heading-list -depth-2">
                        <li class="heading-item -depth-3"><a class="hlink link-.use" href="#.use">.use</a>
                        </li>
                        <li class="heading-item -depth-3"><a class="hlink link-.extends" href="#.extends">.extends</a>
                        </li>
                      </ul>
                    </li>
                  </ul>
                </li>
              </ul>
            </li>
            <li class="menu-item -level-1 -parent"><span class="title">Packages</span>
              <ul class="submenu">
                <li class="menu-item -level-2"><a class="link title  link-packages" href="packages.html">Introduction</a>
                </li>
              </ul>
            </li>
            <li class="menu-item -level-1 -parent"><span class="title">Examples</span>
              <ul class="submenu">
                <li class="menu-item -level-2"><a class="link title  link-demos" href="demos.html">Demos</a>
                </li>
              </ul>
            </li>
          </ul>
        </li>
      </div>
      <div class="body page-jails-api">
        <div class="header-nav">
          <div class="right"><a class="iconlink" href="https://github.com/https://github.com/jails-org/Jails" data-title="https://github.com/jails-org/Jails">
              <!-- span.title Open in GitHub--><span class="icon -github"></span></a>
          </div>
        </div>
        <div class="markdown-body"><h1 id="jails">Jails</h1>
<h2 id=".start">.start</h2>
<p>Scans the document looking for <code>data-component</code> elements and apply a high-order function on that current element.
The <code>start</code> method expects a optional <code>context</code> as a parameter. When no <code>context</code> is provided, the scanner walks through the <code>document.documentElement</code> root.</p>
<p>The scanner will bypass a <code>HTMLElement</code> if it is already instantiated. Use this method to start your application and after update html when using <code>innerHTML</code>.</p>
<h2 id=".events">.events</h2>
<p>Events is an event helper that supports <code>Event Delegation</code> used by Jails and Components. Use it when you need to use <code>Event Delegation</code> and you are not using any library like <code>jQuery</code> to address that.</p>
<pre><code class="lang-js"><span class="pl-k">const</span> handler = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {}

jails.events.on(<span class="pl-c1">document</span>, <span class="pl-s">&apos;click&apos;</span>, handler)
jails.events.off(<span class="pl-c1">document</span>, <span class="pl-s">&apos;click&apos;</span>, handler)
jails.events.trigger(<span class="pl-c1">document</span>, <span class="pl-s">&apos;click&apos;</span>, {<span class="hljs-attr">options</span>:{}})

</code></pre>
<h2 id=".publish-.subscribe">.publish / .subscribe</h2>
<p>It is a Pub/Sub helper also used in the Components. You can use pub/sub to make simple integrations between a third-party library and Jails components.</p>
<p><code>main.js</code></p>
<pre><code class="lang-js"><span class="pl-k">import</span> jails <span class="pl-k">from</span> <span class="pl-s">&apos;jails-js&apos;</span>
<span class="pl-k">import</span> router <span class="pl-k">from</span> <span class="pl-s">&apos;my-modules/router&apos;</span>

router(<span class="pl-s">&apos;/:page&apos;</span>, ( {page} )=&gt;{
    jails.publish(<span class="pl-s">&apos;page:change&apos;</span>, page)
})
</code></pre>
<p><code>components/my-component/index.js</code></p>
<pre><code class="lang-js"><span class="pl-k">export</span> <span class="pl-k">default</span> ( {<span class="hljs-attr">init</span>:main} ) =&gt; {

    main(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> [
        start
    ])

    <span class="pl-k">const</span> start = <span class="hljs-function">(<span class="hljs-params"> {subscribe} </span>) =&gt;</span>
        subscribe(<span class="pl-s">&apos;page:change&apos;</span>, onPageChange)

    <span class="pl-k">const</span> onPageChange = <span class="hljs-function"><span class="hljs-params">page</span> =&gt;</span>
        <span class="pl-c1">console</span>.log( <span class="pl-s">&apos;Page was changed&apos;</span>, page )
}

</code></pre>
<h2 id=".destroy">.destroy</h2>
<p>Destroy events and references attached to a <code>HTMLElement</code> component node and fires a <code>:destroy</code> custom event.</p>
<pre><code class="lang-js"><span class="pl-k">const</span> mycomponent = <span class="pl-c1">document</span>.body.querySelector(<span class="pl-s">&apos;[data-component*=my-component]&apos;</span>)
jails.destroy( mycomponent )
</code></pre>
<p><code>my-component.js</code></p>
<pre><code class="lang-js"><span class="pl-k">export</span> <span class="pl-k">default</span> ( {<span class="hljs-attr">init</span>:main} ) =&gt; {

    <span class="pl-k">let</span> interval = <span class="pl-c1">null</span>

    main(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> [
        register,
        startInterval
    ])

    <span class="pl-k">const</span> register = <span class="hljs-function">(<span class="hljs-params"> {on} </span>) =&gt;</span>
        on(<span class="pl-s">&apos;:destroy&apos;</span>, killInterval)

    <span class="pl-k">const</span> startInterval = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span>
        interval = setInterval( <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {}, <span class="hljs-number">1000</span>)

    <span class="pl-k">const</span> killInterval = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span>
        clearInterval(interval)
}
</code></pre>
<h2 id=".use-.extend">.use / .extend</h2>
<p>These methods are for extend <code>Jails</code>.</p>
<h3 id=".use">.use</h3>
<p>Used for decorate Jails or override some of its behavior.
This method expects a function that returns another function which gets the Jails instance to be override/extended, so the developer don&apos;t need to care how he should import <code>Jails</code> in his plugin.</p>
<pre><code class="lang-js">jails.use( <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> jails =&gt; {
    <span class="pl-c">//Do something with jails here...</span>
})
</code></pre>
<p>Ex. <a href="https://github.com/jails-org/Packages/blob/master/logger/index.js">Logger</a></p>
<h3 id=".extends">.extends</h3>
<p>Used for extend components with new helpers.
This method expects a function that gets options returns another function which gets the Base instance of the components containing all the utility helpers, you just need to append to that instance your new helper.</p>
<pre><code class="lang-js">jails.use( <span class="hljs-function"><span class="hljs-params">options</span> =&gt;</span> Base =&gt; {
    Base.mynewhelper = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> { ... }
    <span class="pl-k">return</span> Base
    <span class="pl-c">//Do something with jails here...</span>
})
</code></pre>
<p>Ex. <a href="https://github.com/jails-org/Packages/blob/master/reactor/index.js">Reactor</a></p>

        </div>
        <div class="footer-nav">
          <div class="left"><a href="helpers.html"><span class="title">Helpers</span></a></div>
          <div class="right"><a href="packages.html"><span class="label">Next: </span><span class="title">Introduction</span></a></div>
        </div>
      </div>
    </div>
  </body>
</html>